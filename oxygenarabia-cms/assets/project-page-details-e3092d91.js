var k=Object.defineProperty;var w=(r,t,s)=>t in r?k(r,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[t]=s;var x=(r,t,s)=>(w(r,typeof t!="symbol"?t+"":t,s),s);import{i as M,r as j,T as O,k as U,R as c,j as e,S as l,b as f,B as h,I as W,W as N}from"./index-203bd9a2.js";import"./contact-82a5e00b.js";import{Y as R,c as V,a as u,I as d}from"./index.esm-db640a3f.js";import{I as $}from"./IframeModal-6d30ce25.js";import{C as A}from"./Container-46542334.js";import{C as B}from"./Card-6365d421.js";import{T as p}from"./TextField-64355d14.js";import"./FileUploadInput-2322a252.js";import"./Popper-557a1982.js";import"./Select-6ba60d6f.js";import"./isMuiElement-68bba295.js";class F extends R{constructor(){super();x(this,"schema",V().shape({title:u().nullable().max(255,"Title must not exceed 255 characters"),subtitle:u().nullable().max(255,"Subtitle must not exceed 255 characters"),description:u().nullable().max(255,"Description must not exceed 255 characters")}))}}function Y(){const[r,{data:t,isLoading:s,isSuccess:Q,error:o,isError:q}]=M(),{showToast:P}=j.useContext(O),{data:a,isLoading:z,isSuccess:G,error:H}=U(),{controller:b,displayError:g}=new F,{register:i,handleSubmit:y,reset:S,setValue:J,formState:{errors:n}}=b();c.useEffect(()=>{o&&(console.log("error: ",o),g(o))},[o]);const E=async L=>{let v={id:a==null?void 0:a.id,...L};r(v)},[I,m]=j.useState(!1),C="https://oxygenarabia.com/projects",T=()=>{m(!0)},D=()=>{m(!1)};return c.useEffect(()=>{a&&S(a)},[a]),c.useEffect(()=>{t&&P("Successfully updated","success")},[t]),e.jsxs(A,{children:[e.jsxs(l,{direction:"row",alignItems:"center",justifyContent:"space-between",mb:5,children:[e.jsxs(l,{direction:"column",alignItems:"start",justifyContent:"space-between",children:[e.jsx(f,{variant:"h4",children:"Project Page Details"}),e.jsxs(f,{variant:"caption",color:"textSecondary",mt:2,children:["Update Project page details texts (after update click ",e.jsx("strong",{children:"Live"})," button to see the updates)."]})]}),e.jsx(h,{variant:"contained",onClick:T,color:"error",startIcon:e.jsx(W,{icon:"fluent:live-24-filled"}),children:"Live"}),e.jsx($,{open:I,onClose:D,src:C,title:"Project Details Iframe"})]}),e.jsx(B,{sx:{p:3},children:e.jsx("form",{method:"POST",onSubmit:y(E),style:{width:"100%"},children:e.jsxs(l,{spacing:3,children:[e.jsx(p,{InputLabelProps:{shrink:!0},fullWidth:!0,...i("title"),label:"Panner Title",...d({inputName:"title",yupError:n})}),e.jsx(p,{InputLabelProps:{shrink:!0},fullWidth:!0,...i("subtitle"),label:"Panner Subtitle",...d({inputName:"subtitle",yupError:n})}),e.jsx(p,{InputLabelProps:{shrink:!0},fullWidth:!0,...i("description"),label:"Card Title",...d({inputName:"description",yupError:n})}),e.jsx(h,{variant:"contained",type:"submit",children:"Update"})]})})})]})}function ce(){return e.jsxs(e.Fragment,{children:[e.jsx(N,{children:e.jsx("title",{children:" Project Page Details | Oxygen Arabia "})}),e.jsx(Y,{})]})}export{ce as default};
