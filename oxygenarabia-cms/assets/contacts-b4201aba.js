var O=Object.defineProperty;var U=(s,t,a)=>t in s?O(s,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[t]=a;var i=(s,t,a)=>(U(s,typeof t!="symbol"?t+"":t,a),a);import{r as f,T as W,c as A,d as N,R as l,j as e,S as c,b as x,B as b,I as R,W as V}from"./index-203bd9a2.js";import"./contact-82a5e00b.js";import{Y as $,c as B,a as d,I as u}from"./index.esm-db640a3f.js";import"./FileUploadInput-2322a252.js";import{I as F}from"./IframeModal-6d30ce25.js";import{C as Y}from"./Container-46542334.js";import{C as Q}from"./Card-6365d421.js";import{T as m}from"./TextField-64355d14.js";import"./Popper-557a1982.js";import"./Select-6ba60d6f.js";import"./isMuiElement-68bba295.js";class q extends ${constructor(){super();i(this,"form",{address:null,phone:null,email:null});i(this,"schema",B().shape({address:d().nullable(),phone:d().matches(/^\+?[0-9]{10,15}$/,"Phone number must be between 10 and 15 digits").min(10,"Phone number must be at least 10 digits").max(15,"Phone number must be at most 15 digits").nullable(),email:d().email().nullable()}))}}function z(){const{showToast:s}=f.useContext(W),{data:t,isLoading:a,refetch:j}=A(),[y,{data:p,isLoading:C,isSuccess:D,error:r,isError:G}]=N(),{controller:g,displayError:E}=new q,{register:n,handleSubmit:I,reset:S,setValue:H,formState:{errors:o}}=g();l.useEffect(()=>{r&&(console.log("error: ",r),E(r))},[r]);const P=async k=>{let M={id:t==null?void 0:t.id,...k};y(M)},[L,h]=f.useState(!1),v="https://oxygenarabia.com/contact-us",w=()=>{h(!0)},T=()=>{h(!1)};return l.useEffect(()=>{t&&S(t)},[t]),l.useEffect(()=>{p&&(s("Successfully updated","success"),j())},[p]),e.jsxs(Y,{children:[e.jsxs(c,{direction:"row",alignItems:"center",justifyContent:"space-between",mb:5,children:[e.jsxs(c,{direction:"column",alignItems:"start",justifyContent:"space-between",children:[e.jsx(x,{variant:"h4",children:"Contacts"}),e.jsx(x,{variant:"caption",color:"textSecondary",mt:2,children:"Update your contact information here."})]}),e.jsx(b,{variant:"contained",onClick:w,color:"error",startIcon:e.jsx(R,{icon:"fluent:live-24-filled"}),children:"Live"}),e.jsx(F,{open:L,onClose:T,src:v,title:"Contacts Iframe"})]}),e.jsx(Q,{sx:{p:3},children:e.jsx("form",{method:"POST",onSubmit:I(P),style:{width:"100%"},children:e.jsxs(c,{spacing:3,children:[e.jsx(m,{fullWidth:!0,InputLabelProps:{shrink:!0},...n("address"),label:"Address",...u({inputName:"address",yupError:o})}),e.jsx(m,{fullWidth:!0,InputLabelProps:{shrink:!0},type:"tel",...n("phone"),label:"Phone",...u({inputName:"phone",yupError:o})}),e.jsx(m,{fullWidth:!0,InputLabelProps:{shrink:!0},type:"email",...n("email"),label:"Email",...u({inputName:"email",yupError:o})}),e.jsx(b,{disabled:C||a,variant:"contained",type:"submit",children:"Update"})]})})})]})}function ie(){return e.jsxs(e.Fragment,{children:[e.jsx(V,{children:e.jsx("title",{children:" Contacts | Oxygen Arabia "})}),e.jsx(z,{})]})}export{ie as default};
