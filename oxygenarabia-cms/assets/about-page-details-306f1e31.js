var F=Object.defineProperty;var V=(c,a,r)=>a in c?F(c,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):c[a]=r;var g=(c,a,r)=>(V(c,typeof a!="symbol"?a+"":a,r),r);import{r as I,T as B,g as G,h as H,R as x,j as e,S as f,b as S,B as y,I as O,W as Y}from"./index-203bd9a2.js";import{Y as $,c as Q,a as s,I as o}from"./index.esm-db640a3f.js";import{F as h}from"./FileUploadInput-2322a252.js";import{I as q}from"./IframeModal-6d30ce25.js";import{C as z}from"./Container-46542334.js";import{C as J}from"./Card-6365d421.js";import{G as d}from"./Grid-32ebb4ff.js";import{T as m}from"./TextField-64355d14.js";import"./Popper-557a1982.js";import"./Select-6ba60d6f.js";import"./isMuiElement-68bba295.js";class K extends ${constructor(){super();g(this,"validateImage",r=>r?[".jpg",".jpeg",".png",".gif",".webp",".svg"].some(p=>r.toLowerCase().endsWith(p)):!0);g(this,"schema",Q().shape({hero_title:s().nullable().max(255,"Hero title must not exceed 255 characters"),hero_subtitle:s().nullable().max(255,"Hero subtitle must not exceed 255 characters"),section_1_img_1:s().nullable().test("is-image","Section 1 Image 1 must be a valid image URL or file path",this.validateImage),section_1_img_2:s().nullable().test("is-image","Section 1 Image 2 must be a valid image URL or file path",this.validateImage),section_1_title:s().nullable().max(255,"Section 1 Title must not exceed 255 characters"),section_1_description:s().nullable().max(500,"Section 1 Description must not exceed 255 characters"),section_2_img:s().nullable().test("is-image","Section 2 Image must be a valid image URL or file path",this.validateImage),section_2_part_1_title:s().nullable().max(255,"Section 2 Part 1 Title must not exceed 255 characters"),section_2_part_1_description:s().nullable().max(500,"Section 2 Part 1 Description must not exceed 255 characters"),section_2_part_2_title:s().nullable().max(255,"Section 2 Part 2 Title must not exceed 255 characters"),section_2_part_2_description:s().nullable().max(500,"Section 2 Part 2 Description must not exceed 255 characters")}))}}function X(){const{showToast:c}=I.useContext(B),[a,{data:r,isLoading:b,isSuccess:E,error:p,isError:Z}]=G(),{data:t,isLoading:C,refetch:L}=H(),{controller:w,displayError:T}=new K,{register:_,handleSubmit:P,reset:N,setValue:u,formState:{errors:n}}=w(),U=async i=>{let l={...i,section_1_img_1:i!=null&&i.section_1_img_1?i==null?void 0:i.section_1_img_1:null,section_1_img_2:i!=null&&i.section_1_img_2?i==null?void 0:i.section_1_img_2:null,section_1_img_3:i!=null&&i.section_1_img_3?i==null?void 0:i.section_1_img_3:null,section_2_img:i!=null&&i.section_2_img?i==null?void 0:i.section_2_img:null};l!=null&&l.id?a({id:l==null?void 0:l.id,body:l}):c("Please provide or wait for the data to load")},[k,j]=I.useState(!1),W="https://oxygenarabia.com/about-us",R=()=>{j(!0)},M=()=>{j(!1)};return x.useEffect(()=>{p&&(console.log("error: ",p),T(p))},[p]),x.useEffect(()=>{t&&N(t)},[t]),x.useEffect(()=>{(r==null?void 0:r.success)===!0?(console.log("data: ",r),c("Successfully updated","success"),L()):(console.log("data: ",r),c(r==null?void 0:r.message,"error"))},[r]),e.jsxs(z,{children:[e.jsxs(f,{direction:"row",alignItems:"center",justifyContent:"space-between",mb:5,children:[e.jsxs(f,{direction:"column",alignItems:"start",justifyContent:"space-between",children:[e.jsx(S,{variant:"h4",children:"About Page Details"}),e.jsx(S,{variant:"caption",color:"textSecondary",mt:2,children:"About page details were you can update the content of the page."})]}),e.jsx(y,{variant:"contained",onClick:R,color:"error",startIcon:e.jsx(O,{icon:"fluent:live-24-filled"}),children:"Live"}),e.jsx(q,{open:k,onClose:M,src:W,title:"Contacts Iframe"})]}),e.jsx(J,{sx:{p:3},children:e.jsx("form",{method:"POST",onSubmit:P(U),style:{width:"100%"},children:e.jsxs(f,{spacing:3,children:[e.jsxs(d,{container:!0,spacing:2,children:[e.jsx(d,{item:!0,xs:12,sm:6,md:3,children:(t==null?void 0:t.section_1_img_1)&&e.jsx(h,{label:"Change Section 1 Image 1",name:"section_1_img_1",title:"Section 1 Image 1",setValue:u,showUrl:t==null?void 0:t.section_1_img_1,error:{...o({inputName:"section_1_img_1",yupError:n})}})}),e.jsx(d,{item:!0,xs:12,sm:6,md:3,children:(t==null?void 0:t.section_1_img_2)&&e.jsx(h,{label:"Change Section 1 Image 2",name:"section_1_img_2",title:"Section 1 Image 2",setValue:u,showUrl:t==null?void 0:t.section_1_img_2,error:{...o({inputName:"section_1_img_2",yupError:n})}})}),e.jsx(d,{item:!0,xs:12,sm:6,md:3,children:(t==null?void 0:t.section_1_img_3)&&e.jsx(h,{label:"Change Section 1 Image 3",name:"section_1_img_3",title:"Section 1 Image 3",setValue:u,showUrl:t==null?void 0:t.section_1_img_3,error:{...o({inputName:"section_1_img_3",yupError:n})}})}),e.jsx(d,{item:!0,xs:12,sm:6,md:3,children:(t==null?void 0:t.section_2_img)&&e.jsx(h,{label:"Change Section 2 Image",name:"section_2_img",title:"Section 2 Image",setValue:u,showUrl:t==null?void 0:t.section_2_img,error:{...o({inputName:"section_2_img",yupError:n})}})})]}),e.jsx(m,{fullWidth:!0,InputLabelProps:{shrink:!0},..._("hero_title"),label:"Panner Title",...o({inputName:"hero_title",yupError:n})}),e.jsx(m,{fullWidth:!0,InputLabelProps:{shrink:!0},..._("hero_subtitle"),label:"Panner Subtitle",...o({inputName:"hero_subtitle",yupError:n})}),e.jsx(m,{fullWidth:!0,InputLabelProps:{shrink:!0},..._("section_1_title"),label:"Section 1 Title",...o({inputName:"section_1_title",yupError:n})}),e.jsx(m,{fullWidth:!0,InputLabelProps:{shrink:!0},..._("section_1_description"),label:"Section 1 Description",...o({inputName:"section_1_description",yupError:n})}),e.jsx(m,{fullWidth:!0,InputLabelProps:{shrink:!0},..._("section_2_part_1_title"),label:"Section 2 Part 1 Title",...o({inputName:"section_2_part_1_title",yupError:n})}),e.jsx(m,{fullWidth:!0,InputLabelProps:{shrink:!0},..._("section_2_part_1_description"),label:"Section 2 Part 1 Description",...o({inputName:"section_2_part_1_description",yupError:n})}),e.jsx(m,{fullWidth:!0,InputLabelProps:{shrink:!0},..._("section_2_part_2_title"),label:"Section 2 Part 2 Title",...o({inputName:"section_2_part_2_title",yupError:n})}),e.jsx(m,{fullWidth:!0,InputLabelProps:{shrink:!0},..._("section_2_part_2_description"),label:"Section 2 Part 2 Description",...o({inputName:"section_2_part_2_description",yupError:n})}),e.jsx(y,{disabled:b||C,variant:"contained",type:"submit",children:"Update"})]})})})]})}function _e(){return e.jsxs(e.Fragment,{children:[e.jsx(Y,{children:e.jsx("title",{children:" About Page Details | Oxygen Arabia "})}),e.jsx(X,{})]})}export{_e as default};
