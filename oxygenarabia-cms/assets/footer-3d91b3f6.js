var L=Object.defineProperty;var M=(o,r,t)=>r in o?L(o,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[r]=t;var d=(o,r,t)=>(M(o,typeof r!="symbol"?r+"":r,t),t);import{r as u,T as P,u as U,a as k,R as i,j as e,S as c,b as p,B as m,I as A,W as O}from"./index-203bd9a2.js";import{I as R}from"./IframeModal-6d30ce25.js";import"./FileUploadInput-2322a252.js";import{Y as B,c as V,a as W,I as Y}from"./index.esm-db640a3f.js";import{C as $}from"./Container-46542334.js";import{C as N}from"./Card-6365d421.js";import{T as Q}from"./TextField-64355d14.js";import"./Popper-557a1982.js";import"./Select-6ba60d6f.js";import"./isMuiElement-68bba295.js";class q extends B{constructor(){super();d(this,"schema",V().shape({copyrights:W().nullable().max(255,"Copyrights must not exceed 255 characters")}))}}function z(){const{showToast:o}=u.useContext(P),[r,{data:t,isLoading:f,isSuccess:G,error:a,isError:H}]=U(),{data:n,isLoading:h,refetch:x}=k(),{controller:g,displayError:y}=new q,{register:j,handleSubmit:b,reset:C,formState:{errors:F}}=g(),I=async T=>{let s={...T};console.log("getDataOnly: ",s),s!=null&&s.id?r({id:s==null?void 0:s.id,body:s}):o("Please provide or wait for the data to load")},[S,l]=u.useState(!1),E="https://oxygenarabia.com#footer",v=()=>{l(!0)},w=()=>{l(!1)};return i.useEffect(()=>{a&&(console.log("error: ",a),y(a))},[a]),i.useEffect(()=>{n&&C(n)},[n]),i.useEffect(()=>{console.log("data: ",t),(t==null?void 0:t.success)===!0?(console.log("data: ",t),o("Successfully updated","success"),x()):(console.log("data: ",t),o(t==null?void 0:t.message,"error"))},[t]),e.jsxs($,{children:[e.jsxs(c,{direction:"row",alignItems:"center",justifyContent:"space-between",mb:5,children:[e.jsxs(c,{direction:"column",alignItems:"start",justifyContent:"space-between",children:[e.jsx(p,{variant:"h4",children:"Footer"}),e.jsx(p,{variant:"caption",color:"textSecondary",mt:2,children:"Update your footer copyrights text and date"})]}),e.jsx(m,{variant:"contained",onClick:v,color:"error",startIcon:e.jsx(A,{icon:"fluent:live-24-filled"}),children:"Live"}),e.jsx(R,{open:S,onClose:w,src:E,title:"Footer Iframe"})]}),e.jsx(N,{sx:{p:3},children:e.jsx("form",{method:"POST",onSubmit:b(I),style:{width:"100%"},children:e.jsxs(c,{spacing:3,children:[e.jsx(Q,{fullWidth:!0,InputLabelProps:{shrink:!0},...j("copyrights"),label:"Copyrights",...Y({inputName:"copyrights",yupError:F})}),e.jsx(m,{disabled:f||h,variant:"contained",type:"submit",children:"Update"})]})})})]})}function ae(){return e.jsxs(e.Fragment,{children:[e.jsx(O,{children:e.jsx("title",{children:" Footer | Oxygen Arabia "})}),e.jsx(z,{})]})}export{ae as default};
